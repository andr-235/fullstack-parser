# Загрузка ключевых слов из файла

## Обзор

Функционал позволяет загружать ключевые слова из файлов CSV и TXT форматов. Это удобно для массового добавления ключевых слов без необходимости вводить их по одному.

## Поддерживаемые форматы

### CSV файл
Формат: `word,category,description`

Пример:
```csv
слово,категория,описание
спам,Общие,Нежелательные сообщения
реклама,Общие,Рекламные сообщения
мошенничество,Безопасность,Мошеннические схемы
```

### TXT файл
Формат: одно слово на строку

Пример:
```txt
# Пример файла с ключевыми словами
# Одно слово на строку
# Строки, начинающиеся с #, игнорируются

спам
реклама
мошенничество
взлом
пароль
```

## Использование

### Через веб-интерфейс

1. Перейдите на страницу "Ключевые слова"
2. Нажмите кнопку "Загрузить из файла"
3. Выберите файл (CSV или TXT)
4. Настройте параметры:
   - **Категория по умолчанию** - категория для ключевых слов без указанной категории
   - **Активные ключевые слова** - будут ли загруженные слова активны
   - **Учитывать регистр** - чувствительность к регистру при поиске
   - **Только целые слова** - искать только целые слова
5. Нажмите "Загрузить"

### Через API

```bash
curl -X POST "http://localhost:8000/api/v1/keywords/upload" \
  -H "Content-Type: multipart/form-data" \
  -F "file=@keywords.csv" \
  -F "default_category=Общие" \
  -F "is_active=true" \
  -F "is_case_sensitive=false" \
  -F "is_whole_word=false"
```

## Ответ API

```json
{
  "status": "success",
  "message": "Загружено 12 ключевых слов из 15 строк",
  "total_processed": 15,
  "created": 12,
  "skipped": 3,
  "errors": [
    "Строка 5: пустое ключевое слово"
  ],
  "created_keywords": [
    {
      "id": 1,
      "word": "спам",
      "category": "Общие",
      "description": "Нежелательные сообщения",
      "is_active": true,
      "is_case_sensitive": false,
      "is_whole_word": false,
      "total_matches": 0,
      "created_at": "2024-01-01T12:00:00Z",
      "updated_at": "2024-01-01T12:00:00Z"
    }
  ]
}
```

## Ограничения

- Максимальный размер файла: 5MB
- Поддерживаемые кодировки: UTF-8
- Максимальная длина ключевого слова: 200 символов
- Максимальная длина категории: 100 символов

## Обработка ошибок

### Дубликаты
Если ключевое слово уже существует, оно будет пропущено и добавлено в счетчик `skipped`.

### Ошибки валидации
- Пустые ключевые слова
- Слишком длинные слова или категории
- Некорректный формат файла

### Ошибки файла
- Неподдерживаемый формат
- Файл слишком большой
- Некорректная кодировка

## Примеры файлов

Примеры файлов находятся в директории `examples/`:
- `keywords-example.csv` - пример CSV файла
- `keywords-example.txt` - пример TXT файла

## Лучшие практики

1. **Используйте категории** для группировки связанных ключевых слов
2. **Добавляйте описания** для лучшего понимания назначения слова
3. **Проверяйте дубликаты** перед загрузкой
4. **Используйте UTF-8 кодировку** для корректного отображения русских символов
5. **Тестируйте на небольших файлах** перед загрузкой больших объемов 