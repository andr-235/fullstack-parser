# Product

## Почему проект существует

Проект представляет собой систему анализа данных из социальной сети VKontakte (VK). Он предназначен для автоматизированного сбора и обработки комментариев к постам в сообществах, выявления ключевых слов, категоризации по тональности и хранения результатов для дальнейшего анализа. Это позволяет мониторить общественное мнение, вовлеченность пользователей и тренды в комментариях на русском языке.

Основная цель - предоставить инструмент для бизнеса или аналитиков, которые нуждаются в insights из соцсетей без ручного парсинга.

## Проблемы, которые решает

- **Ручной мониторинг соцсетей**: Автоматизирует сбор данных из VK API, избавляя от необходимости вручную просматривать посты и комментарии.
- **Обработка больших объемов текста**: Асинхронная обработка с морфологическим анализом решает проблему масштабируемости для тысяч комментариев.
- **Rate limits и ошибки API**: Встроенная логика retry и rate limiting обеспечивает стабильность интеграции с VK API (лимит 3 req/s или 5000/сутки).
- **Хранение и поиск**: Интеграция с PostgreSQL позволяет хранить обработанные данные с фильтрацией и поиском.
- **Миграция и развитие**: Проект мигрировал с Python/FastAPI на Node.js/Express для consistency и performance, решая проблемы масштаба предыдущей версии.

## Как работает

1. **Аутентификация**: Через VK OAuth 2.0 Implicit Flow, токены хранятся в Redis с TTL.
2. **Сбор данных**: API endpoint в Express запускает задачу в taskService.js для вызова VK API (wall.getComments, wall.get), с пагинацией и обработкой ошибок.
3. **Обработка**: taskService.js использует async/await для маппинга данных на модели (Comment, Post, Task), выполняет морфологический анализ (выявление ключевых слов, тональность).
4. **Хранение**: Результаты сохраняются в PostgreSQL через dbRepo.js.
5. **Доступ**: Frontend взаимодействует через REST API (Express). 

Система асинхронна: основной API возвращает ID задачи, статус проверяется отдельным endpoint'ом.

## Цели UX

- **Простота**: Интуитивные endpoints для запуска анализа (POST /api/tasks), просмотр результатов (GET /api/comments).
- **Мониторинг**: Реал-тайм статус задач, дашборды с метриками (Grafana).
- **Масштабируемость**: Обработка до 1000 комментариев/мин без задержек для пользователя.
- **Безопасность**: Токены в env, HTTPS, валидация input.
- **Доступность**: Документированные API, тесты >80% покрытия для надежности.

Проект ориентирован на разработчиков и аналитиков, с фокусом на backend; frontend планируется для визуализации insights.