name: CI

on:
  push:
    branches: [main, develop, "feature/*", "release/*", "hotfix/*"]
  pull_request:
    branches: [main, develop]

jobs:
  backend:
    uses: ./.github/workflows/reusable-backend-test.yml
    with:
      python-versions: '["3.11", "3.12"]'
      upload-coverage: '"true"'
    secrets: inherit

  frontend:
    uses: ./.github/workflows/reusable-frontend-test.yml
    with:
      node-versions: '["20"]'
      upload-coverage: '"true"'
    secrets: inherit